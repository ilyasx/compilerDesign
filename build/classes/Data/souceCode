/*
    Assignment 02
    Reading and writing binary file
    creating by Muhammad Ilyas
    cs141004
    cs4A
*/

#include<iostream>
#include<fstream>
#include<string>
#include<string.h>
#include<stdlib.h>
using namespace std;
//Reading function define
void readingFile(char *data,char *destination){
    //file object
     ifstream in;
    // file open function call
    in.open(destination,ios::in | ios::binary );
    if(!in){
        cout<<"input file notworking"<<endl;
    }
    else {
            //reading file function in binary mode
        in.read(data,1000000);
        //cout<<ab<<endl;
        cout<<"File reading complete...."<<endl;
    //file close
        in.close();
    }



}
//Reading function define
void writingBinaryFile(char *data,char *destination){
//file object
    ofstream output;
    // file open function call
    output.open(destination,ios::out | ios::binary);
    if(!output){
        cout<<"Output file not working"<<endl;
    }
    else {
             //writing file function in binary mode
        output.write(data,1000000);
        output.close();
        cout<<"File writing complete...."<<endl;
    }


}

int main(){
    //char for data collection
   char maindata[1000000];

//    writingBinaryFile(ab);
    // initialization
    char destination[50],fileNameInput[30],destinationOutput[50],fileNameOutput[30];
    // FILE name input
    cout<<"Enter file Name for reading file with(.exe):"<<endl;
    gets(fileNameInput);
    //FILE directory input
    cout<<"Enter File destination reading: "<<endl;
    cout<<"eg.(C:\Users\Muhammad Ilyas\Desktop\OS)"<<endl;
    gets(destination);
    //Concatenation apply on file directory and forward slash
    strcat(destination,"\\");
    //Concatenation apply on file directory and file name
    strcat(destination,fileNameInput);
    //function call for reading file
    readingFile(maindata,destination);
    // FILE name input
    cout<<"Enter file Name for output file name with(.exe):"<<endl;
    gets(fileNameOutput);
     //FILE directory input
    cout<<"Enter File destination for writing: "<<endl;
    cout<<"eg.(C:\Users\Muhammad Ilyas\Desktop\OS)"<<endl;
    gets(destinationOutput);
    //Concatenation apply on file directory and forward slash
    strcat(destinationOutput,"\\");
    //Concatenation apply on file directory and file name
    strcat(destinationOutput,fileNameOutput);
    //function call for writing file
    writingBinaryFile(maindata,destinationOutput);
    cout<<"Check now file -> "<<fileNameOutput<<" in -> "<<destinationOutput<<endl;

    system("Pause");
    return 0;
}
